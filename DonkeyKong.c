// DonkeyKong.c
// Runs on LM4F120/TM4C123
// Jonathan Valvano and Daniel Valvano
// This is a starter project for the EE319K Lab 10

// Last Modified: 3/6/2015 
// http://www.spaceinvaders.de/
// sounds at http://www.classicgaming.cc/classics/spaceinvaders/sounds.php
// http://www.classicgaming.cc/classics/spaceinvaders/playguide.php
/* This example accompanies the books
   "Embedded Systems: Real Time Interfacing to Arm Cortex M Microcontrollers",
   ISBN: 978-1463590154, Jonathan Valvano, copyright (c) 2014

   "Embedded Systems: Introduction to Arm Cortex M Microcontrollers",
   ISBN: 978-1469998749, Jonathan Valvano, copyright (c) 2014

 Copyright 2015 by Jonathan W. Valvano, valvano@mail.utexas.edu
    You may use, edit, run or distribute this file
    as long as the above copyright notice remains
 THIS SOFTWARE IS PROVIDED "AS IS".  NO WARRANTIES, WHETHER EXPRESS, IMPLIED
 OR STATUTORY, INCLUDING, BUT NOT LIMITED TO, IMPLIED WARRANTIES OF
 MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE APPLY TO THIS SOFTWARE.
 VALVANO SHALL NOT, IN ANY CIRCUMSTANCES, BE LIABLE FOR SPECIAL, INCIDENTAL,
 OR CONSEQUENTIAL DAMAGES, FOR ANY REASON WHATSOEVER.
 For more information about my classes, my research, and my books, see
 http://users.ece.utexas.edu/~valvano/
 */
// ******* Possible Hardware I/O connections*******************
// Slide pot pin 1 connected to ground
// Slide pot pin 2 connected to PE2/AIN1
// Slide pot pin 3 connected to +3.3V 
// fire button connected to PE0
// special weapon fire button connected to PE1
// 8*R resistor DAC bit 0 on PB0 (least significant bit)
// 4*R resistor DAC bit 1 on PB1
// 2*R resistor DAC bit 2 on PB2
// 1*R resistor DAC bit 3 on PB3 (most significant bit)
// LED on PB4
// LED on PB5

// Backlight (pin 10) connected to +3.3 V
// MISO (pin 9) unconnected
// SCK (pin 8) connected to PA2 (SSI0Clk)
// MOSI (pin 7) connected to PA5 (SSI0Tx)
// TFT_CS (pin 6) connected to PA3 (SSI0Fss)
// CARD_CS (pin 5) unconnected
// Data/Command (pin 4) connected to PA6 (GPIO), high for data, low for command
// RESET (pin 3) connected to PA7 (GPIO)
// VCC (pin 2) connected to +3.3 V
// Gnd (pin 1) connected to ground

#include <stdint.h>
#include "tm4c123gh6pm.h"
#include "ST7735.h"
#include "Random.h"
#include "TExaS.h"
#include "ADC.h"
#define	 bowser 0
#define  mario  1
#define  fireball1  2
#define  fireball2  3
#define  fireball3  4
#define  fireball4  5
#define  fireball5  6
#define  fireball6  7
#define  fireball7  8
#define  fireball8  9
#define  fireball9  10
#define  fireball10  11
#define  fireball11  12
#define  character_size 13
#define NVIC_ST_RELOAD  0x00268480  




// *************************** Images ***************************

const unsigned short mario_run_right[] = {
 0x7BEF, 0x0000, 0x0000, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x0000, 0x0000, 0x7BEF, 0x7BEF, 0x0000,
 0x3B93, 0xA7DF, 0x0000, 0x7BEF, 0xA9C5, 0xA9C5, 0xA9C5, 0xA9C5, 0x7BEF, 0x0000, 0x3B93, 0x0000, 0x0000, 0x7BEF, 0x0000, 0x3B93,
 0xA9C5, 0x3B93, 0x3B93, 0x9C46, 0x9C46, 0x9C46, 0x9C46, 0xA9C5, 0x0000, 0x3B93, 0x0000, 0x0000, 0x7BEF, 0x0000, 0x3B93, 0x3B93,
 0xFFFF, 0xFFFF, 0x3B93, 0x9C46, 0x9C46, 0x9C46, 0xE795, 0xA9C5, 0x0000, 0x3B93, 0x0000, 0x0000, 0x0000, 0x3B93, 0x3B93, 0xFFFF,
 0xFFFF, 0x3B93, 0x9C46, 0xFFFF, 0xFFFF, 0xE795, 0xFFFF, 0x0000, 0xA7DF, 0x0000, 0x0000, 0x7BEF, 0x0000, 0x3B93, 0xFFFF, 0xFFFF,
 0xFFFF, 0x3B93, 0xFFFF, 0xFFFF, 0xE795, 0xFFFF, 0xA9C5, 0x0000, 0x0000, 0x7BEF, 0x7BEF, 0x7BEF, 0x3B93, 0x50D7, 0x50D7, 0x8B7D,
 0x3B93, 0x9C46, 0xE795, 0xE795, 0xA9C5, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x3B93, 0x50D7, 0x3B93, 0x3B93, 0x3B93,
 0x3B93, 0x3B93, 0xA9C5, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x0000, 0x3B93, 0x3B93, 0x739F, 0x739F, 0x739F,
 0x0000, 0x0000, 0x0000, 0x0000, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x0000, 0x0000, 0x739F, 0x739F, 0xEF5F, 0x0000, 0x0000, 0x0000,
 0x0000, 0x0000, 0x0000, 0x0000, 0x7BEF, 0x7BEF, 0x1011, 0x0000, 0x739F, 0xEF5F, 0x0000, 0xEF5F, 0xEF5F, 0x0000, 0x739F, 0x739F,
 0x739F, 0x739F, 0x739F, 0x3B93, 0x7BEF, 0x1011, 0x739F, 0x3B93, 0xEF5F, 0x0000, 0x0000, 0xEF5F, 0xEF5F, 0xEF5F, 0xEF5F, 0xEF5F,
 0xEF5F, 0xEF5F, 0x3B93, 0x7BEF, 0x1011, 0xEF5F, 0x3B93, 0xEF5F, 0x0000, 0xEF5F, 0xEF5F, 0x0000, 0xEF5F, 0x0000, 0xEF5F, 0x3B93,
 0x3B93, 0x7BEF, 0x7BEF, 0x7BEF, 0x1011, 0xEF5F, 0x0000, 0x0000, 0x0000, 0x739F, 0x0000, 0x739F, 0x0000, 0x739F, 0x7BEF, 0x7BEF,
 0x7BEF, 0x7BEF, 0x7BEF, 0x1011, 0x50D7, 0x50D7, 0x50D7, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
 0x7BEF, 0x7BEF, 0x7BEF, 0x1011, 0x50D7, 0x8B7D, 0x50D7, 0x50D7, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x7BEF, 0x7BEF,
 0x7BEF, 0x7BEF, 0x7BEF, 0x1011, 0x8B7D, 0x8B7D, 0x50D7, 0x50D7, 0x055B, 0xA7DF, 0xFFFF, 0x1011, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF,
 0x7BEF, 0x7BEF, 0x7BEF, 0x1011, 0x1011, 0x8B7D, 0x8B7D, 0x8B7D, 0xA7DF, 0x8B7D, 0x1011, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF,
 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x1011, 0x1011, 0x1011, 0x1011, 0x1011, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF,
 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF,
};

const unsigned short mario_run_left[] = {
 0x7BEF, 0x7BEF, 0x0000, 0x0000, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x0000, 0x0000, 0x7BEF, 0x7BEF,
 0x0000, 0x0000, 0x3B93, 0x0000, 0x7BEF, 0xA9C5, 0xA9C5, 0xA9C5, 0xA9C5, 0x7BEF, 0x0000, 0xA7DF, 0x3B93, 0x0000, 0x7BEF, 0x0000,
 0x0000, 0x3B93, 0x0000, 0xA9C5, 0x9C46, 0x9C46, 0x9C46, 0x9C46, 0x3B93, 0x3B93, 0xA9C5, 0x3B93, 0x0000, 0x0000, 0x0000, 0x3B93,
 0x0000, 0xA9C5, 0xE795, 0x9C46, 0x9C46, 0x9C46, 0x3B93, 0xFFFF, 0xFFFF, 0x3B93, 0x3B93, 0x0000, 0x0000, 0x0000, 0xA7DF, 0x0000,
 0xFFFF, 0xE795, 0xFFFF, 0xFFFF, 0x9C46, 0x3B93, 0xFFFF, 0xFFFF, 0x3B93, 0x3B93, 0x0000, 0x7BEF, 0x0000, 0x0000, 0xA9C5, 0xFFFF,
 0xE795, 0xFFFF, 0xFFFF, 0x3B93, 0xFFFF, 0xFFFF, 0xFFFF, 0x3B93, 0x0000, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0xA9C5, 0xE795,
 0xE795, 0x9C46, 0x3B93, 0x8B7D, 0x50D7, 0x50D7, 0x3B93, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0xA9C5, 0x3B93,
 0x3B93, 0x3B93, 0x3B93, 0x3B93, 0x50D7, 0x3B93, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x0000, 0x0000, 0x0000, 0x0000, 0x739F,
 0x739F, 0x739F, 0x3B93, 0x3B93, 0x0000, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
 0xEF5F, 0x739F, 0x739F, 0x0000, 0x0000, 0x7BEF, 0x7BEF, 0x3B93, 0x739F, 0x739F, 0x739F, 0x739F, 0x739F, 0x0000, 0xEF5F, 0xEF5F,
 0x0000, 0xEF5F, 0x739F, 0x0000, 0x7BEF, 0x7BEF, 0x3B93, 0xEF5F, 0xEF5F, 0xEF5F, 0xEF5F, 0xEF5F, 0xEF5F, 0xEF5F, 0x0000, 0x0000,
 0xEF5F, 0x3B93, 0x739F, 0x1011, 0x7BEF, 0x7BEF, 0x3B93, 0x3B93, 0xEF5F, 0x0000, 0xEF5F, 0x0000, 0xEF5F, 0xEF5F, 0x0000, 0xEF5F,
 0x3B93, 0xEF5F, 0x1011, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x739F, 0x0000, 0x739F, 0x0000, 0x739F, 0x0000, 0x0000, 0x0000, 0x50D7,
 0x1011, 0x1011, 0x7BEF, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x50D7, 0x50D7, 0x50D7, 0x1011,
 0x7BEF, 0x7BEF, 0x7BEF, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x50D7, 0x50D7, 0x8B7D, 0x50D7, 0x1011, 0x7BEF, 0x7BEF,
 0x7BEF, 0x7BEF, 0x7BEF, 0x1011, 0xFFFF, 0xA7DF, 0x055B, 0x50D7, 0x50D7, 0x8B7D, 0x8B7D, 0x1011, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF,
 0x7BEF, 0x7BEF, 0x1011, 0x8B7D, 0xA7DF, 0x8B7D, 0x8B7D, 0x8B7D, 0x1011, 0x1011, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF,
 0x7BEF, 0x7BEF, 0x1011, 0x1011, 0x1011, 0x1011, 0x1011, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF,
 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF,
};

const unsigned short mario_still_right[] = {
 0x8410, 0x8410, 0x8410, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x8410, 0x8410, 0x8410, 0x7BEF, 0x8410,
 0x8410, 0x8410, 0x0000, 0x3B93, 0x3B93, 0x3B93, 0xA7DF, 0x0000, 0xA7DF, 0x0000, 0x8410, 0x8410, 0x8410, 0x7BEF, 0x8410, 0x8410,
 0x8410, 0x3B93, 0x3B93, 0x3B93, 0x3B93, 0x0000, 0x3B93, 0x0000, 0x8410, 0x8410, 0x8410, 0x8410, 0x7BEF, 0x8410, 0x8410, 0x3B93,
 0xFFFF, 0xFFFF, 0x3B93, 0x9C46, 0x9C46, 0xA9C5, 0x9C46, 0xA9C5, 0x8410, 0x8410, 0x8410, 0x7BEF, 0x8410, 0x8410, 0x3B93, 0xFFFF,
 0xFFFF, 0x3B93, 0x9C46, 0x9C46, 0x9C46, 0xE795, 0xE795, 0xA9C5, 0x8410, 0x8410, 0x7BEF, 0x8410, 0x8410, 0x3B93, 0xFFFF, 0xFFFF,
 0xFFFF, 0x3B93, 0xFFFF, 0xFFFF, 0xE795, 0xFFFF, 0xA9C5, 0x8410, 0x8410, 0x7BEF, 0x8410, 0x8410, 0x1011, 0x3B93, 0x3B93, 0x3B93,
 0x9C46, 0xFFFF, 0xFFFF, 0xE795, 0xFFFF, 0xA9C5, 0x8410, 0x8410, 0x7BEF, 0x8410, 0x8410, 0x1011, 0x50D7, 0x50D7, 0x8B7D, 0x9C46,
 0x9C46, 0xE795, 0xE795, 0xA9C5, 0x8410, 0x8410, 0x8410, 0x7BEF, 0x8410, 0x8410, 0x8410, 0x1011, 0x50D7, 0x3B93, 0x3B93, 0x3B93,
 0x3B93, 0xA9C5, 0x8410, 0x8410, 0x8410, 0x8410, 0x7BEF, 0x8410, 0x8410, 0x0000, 0x3B93, 0x3B93, 0x739F, 0x739F, 0x739F, 0x0000,
 0x0000, 0x0000, 0x0000, 0x8410, 0x8410, 0x7BEF, 0x8410, 0x0000, 0x0000, 0x739F, 0x739F, 0xEF5F, 0x0000, 0x0000, 0x0000, 0x0000,
 0x0000, 0x0000, 0x0000, 0x8410, 0x7BEF, 0x1011, 0x0000, 0x739F, 0xEF5F, 0x0000, 0xEF5F, 0xEF5F, 0x0000, 0x739F, 0x739F, 0x739F,
 0x739F, 0x739F, 0x3B93, 0x7BEF, 0x1011, 0x739F, 0x3B93, 0xEF5F, 0x0000, 0x0000, 0xEF5F, 0xEF5F, 0xEF5F, 0xEF5F, 0xEF5F, 0xEF5F,
 0xEF5F, 0x3B93, 0x7BEF, 0x1011, 0xEF5F, 0x3B93, 0xEF5F, 0x0000, 0xFFFF, 0xEF5F, 0x0000, 0xEF5F, 0x0000, 0xEF5F, 0x3B93, 0x3B93,
 0x8410, 0x7BEF, 0x8410, 0x1011, 0xEF5F, 0x0000, 0x0000, 0x0000, 0x739F, 0x0000, 0x739F, 0x0000, 0x739F, 0x8410, 0x8410, 0x8410,
 0x7BEF, 0x8410, 0x1011, 0x50D7, 0x50D7, 0x50D7, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x7BEF,
 0x8410, 0x8410, 0x1011, 0x50D7, 0x8B7D, 0x50D7, 0x50D7, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x8410, 0x7BEF, 0x8410,
 0x8410, 0x8410, 0x1011, 0x8B7D, 0x8B7D, 0x50D7, 0x50D7, 0x055B, 0xA7DF, 0xFFFF, 0x1011, 0x8410, 0x8410, 0x7BEF, 0x8410, 0x8410,
 0x8410, 0x8410, 0x1011, 0x1011, 0x8B7D, 0x8B7D, 0x8B7D, 0xA7DF, 0x8B7D, 0x1011, 0x8410, 0x8410, 0x7BEF, 0x8410, 0x8410, 0x8410,
 0x8410, 0x8410, 0x8410, 0x1011, 0x1011, 0x1011, 0x1011, 0x1011, 0x8410, 0x8410, 0x8410, 0x7BEF,
};

const unsigned short mario_still_left[] = {
 0x8410, 0x8410, 0x8410, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x8410, 0x8410, 0x7BEF, 0x7BEF, 0x8410,
 0x8410, 0x8410, 0x0000, 0xA7DF, 0x0000, 0xA7DF, 0x3B93, 0x3B93, 0x3B93, 0x0000, 0x8410, 0x8410, 0x7BEF, 0x7BEF, 0x8410, 0x8410,
 0x8410, 0x8410, 0x0000, 0x3B93, 0x0000, 0x3B93, 0x3B93, 0x3B93, 0x3B93, 0x8410, 0x8410, 0x7BEF, 0x7BEF, 0x8410, 0x8410, 0x8410,
 0xA9C5, 0x9C46, 0xA9C5, 0x9C46, 0x9C46, 0x3B93, 0xFFFF, 0xFFFF, 0x3B93, 0x8410, 0x7BEF, 0x7BEF, 0x8410, 0x8410, 0xA9C5, 0xE795,
 0xE795, 0x9C46, 0x9C46, 0x9C46, 0x3B93, 0xFFFF, 0xFFFF, 0x3B93, 0x8410, 0x7BEF, 0x7BEF, 0x8410, 0x8410, 0xA9C5, 0xFFFF, 0xE795,
 0xFFFF, 0xFFFF, 0x3B93, 0xFFFF, 0xFFFF, 0xFFFF, 0x3B93, 0x8410, 0x7BEF, 0x7BEF, 0x8410, 0x8410, 0xA9C5, 0xFFFF, 0xE795, 0xFFFF,
 0xFFFF, 0x9C46, 0x3B93, 0x3B93, 0x3B93, 0x1011, 0x8410, 0x7BEF, 0x7BEF, 0x8410, 0x8410, 0x8410, 0xA9C5, 0xE795, 0xE795, 0x9C46,
 0x9C46, 0x8B7D, 0x50D7, 0x50D7, 0x1011, 0x8410, 0x7BEF, 0x7BEF, 0x8410, 0x8410, 0x8410, 0x8410, 0xA9C5, 0x3B93, 0x3B93, 0x3B93,
 0x3B93, 0x50D7, 0x1011, 0x8410, 0x8410, 0x7BEF, 0x7BEF, 0x8410, 0x8410, 0x0000, 0x0000, 0x0000, 0x0000, 0x739F, 0x739F, 0x739F,
 0x3B93, 0x3B93, 0x0000, 0x8410, 0x7BEF, 0x7BEF, 0x8410, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0xEF5F, 0x739F,
 0x739F, 0x0000, 0x0000, 0x7BEF, 0x7BEF, 0x3B93, 0x739F, 0x739F, 0x739F, 0x739F, 0x739F, 0x0000, 0xEF5F, 0xEF5F, 0x0000, 0xEF5F,
 0x739F, 0x0000, 0x1011, 0x7BEF, 0x3B93, 0xEF5F, 0xEF5F, 0xEF5F, 0xEF5F, 0xEF5F, 0xEF5F, 0xEF5F, 0x0000, 0x0000, 0xEF5F, 0x3B93,
 0x739F, 0x1011, 0x7BEF, 0x8410, 0x3B93, 0x3B93, 0xEF5F, 0x0000, 0xEF5F, 0x0000, 0xEF5F, 0xFFFF, 0x0000, 0xEF5F, 0x3B93, 0xEF5F,
 0x1011, 0x7BEF, 0x8410, 0x8410, 0x8410, 0x739F, 0x0000, 0x739F, 0x0000, 0x739F, 0x0000, 0x0000, 0x0000, 0xEF5F, 0x1011, 0x7BEF,
 0x7BEF, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x50D7, 0x50D7, 0x50D7, 0x1011, 0x7BEF, 0x7BEF,
 0x8410, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x50D7, 0x50D7, 0x8B7D, 0x50D7, 0x1011, 0x8410, 0x7BEF, 0x7BEF, 0x8410,
 0x8410, 0x1011, 0xFFFF, 0xA7DF, 0x055B, 0x50D7, 0x50D7, 0x8B7D, 0x8B7D, 0x1011, 0x8410, 0x8410, 0x7BEF, 0x7BEF, 0x8410, 0x8410,
 0x1011, 0x8B7D, 0xA7DF, 0x8B7D, 0x8B7D, 0x8B7D, 0x1011, 0x1011, 0x8410, 0x8410, 0x8410, 0x7BEF, 0x7BEF, 0x8410, 0x8410, 0x8410,
 0x1011, 0x1011, 0x1011, 0x1011, 0x1011, 0x8410, 0x8410, 0x8410, 0x8410, 0x8410, 0x7BEF, 0x7BEF,
};


const unsigned short bowser_open_mouth[] = {
	0x451F, 0x451F, 0x451F, 0x451F, 0x451F, 0x7BEF, 0x7BEF, 0x7BEF, 0x451F, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF,
 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0xFFFF,
 0x451F, 0x451F, 0x451F, 0x451F, 0x7BEF, 0x7BEF, 0x451F, 0x451F, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF,
 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0xFFFF, 0xFFFF,
 0x451F, 0x451F, 0x451F, 0x451F, 0x451F, 0x451F, 0x451F, 0x451F, 0x451F, 0x451F, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF,
 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0xFFFF, 0xFFFF, 0xFFFF,
 0xFFFF, 0x451F, 0x451F, 0x451F, 0x451F, 0x0540, 0x0540, 0x451F, 0x451F, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF,
 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF,
 0xFFFF, 0xFFFF, 0x0540, 0x0540, 0x0540, 0x0540, 0x0540, 0x0540, 0x451F, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF,
 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x0540, 0x0540, 0x0540, 0x0540, 0xFFFF,
 0xFFFF, 0xFFFF, 0xFFFF, 0x0540, 0x0540, 0x0540, 0x0540, 0x0540, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF,
 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x0540, 0x0540, 0x0540, 0x0540, 0x0540, 0x0540,
 0xFFFF, 0xFFFF, 0xFFFF, 0x0540, 0x0540, 0x0540, 0x0540, 0x0540, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF,
 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x0540, 0x451F, 0x0540, 0x0540, 0x451F, 0x0540, 0x0540,
 0x0540, 0xFFFF, 0xFFFF, 0x0540, 0x0540, 0x0540, 0x0540, 0x0540, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF,
 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x451F, 0x451F, 0x0540, 0xFFFF, 0xFFFF, 0x0540, 0x0540, 0x0540,
 0x0540, 0xFFFF, 0x0540, 0x0540, 0x0540, 0x0540, 0x0540, 0x7BEF, 0x451F, 0x451F, 0x451F, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF,
 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0xFFFF, 0xFFFF, 0x0540, 0x0540, 0x0540, 0x0540, 0x0540, 0x0540, 0x0540,
 0xFFFF, 0xFFFF, 0x0540, 0x0540, 0x0540, 0x0540, 0x451F, 0x451F, 0x451F, 0x451F, 0x451F, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF,
 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0xFFFF, 0xFFFF, 0x0540, 0x0540, 0x451F, 0x451F, 0x0540, 0x0540, 0x0540, 0xFFFF,
 0xFFFF, 0x0540, 0x0540, 0x0540, 0x0540, 0x451F, 0x451F, 0x451F, 0x451F, 0x451F, 0x7BEF, 0x7BEF, 0x451F, 0x7BEF, 0x7BEF, 0x7BEF,
 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0xFFFF, 0x0540, 0x0540, 0x0540, 0x451F, 0xFFFF, 0xFFFF, 0x0540, 0x0540, 0xFFFF, 0xFFFF,
 0x0540, 0x0540, 0xFFFF, 0x451F, 0x451F, 0x451F, 0x451F, 0x451F, 0x451F, 0x7BEF, 0x7BEF, 0x451F, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF,
 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x451F, 0x0540, 0x0540, 0x0540, 0xFFFF, 0xFFFF, 0xFFFF, 0x0540, 0x0540, 0x0540, 0xFFFF, 0x0540,
 0x0540, 0xFFFF, 0xFFFF, 0x451F, 0x451F, 0x451F, 0x451F, 0x7BEF, 0x7BEF, 0x451F, 0x451F, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF,
 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x0540, 0x0540, 0x0540, 0x0540, 0x0540, 0x0540, 0x0540, 0x0540, 0x0540, 0xFFFF, 0x0540, 0x451F,
 0x451F, 0xFFFF, 0xFFFF, 0x451F, 0x451F, 0x451F, 0x7BEF, 0x7BEF, 0x451F, 0x451F, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF,
 0x7BEF, 0x7BEF, 0x7BEF, 0x451F, 0x451F, 0x0540, 0x0540, 0x0540, 0x0540, 0x0540, 0x0540, 0x0540, 0xFFFF, 0xFFFF, 0x451F, 0x451F,
 0x451F, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0x451F, 0x451F, 0x451F, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF,
 0x7BEF, 0x7BEF, 0x451F, 0xFFFF, 0xFFFF, 0x0540, 0x0540, 0x0540, 0x451F, 0x451F, 0x0540, 0x0540, 0xFFFF, 0xFFFF, 0x451F, 0x451F,
 0x451F, 0x0540, 0x0540, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF,
 0x7BEF, 0x7BEF, 0xFFFF, 0xFFFF, 0x0540, 0x0540, 0x0540, 0x451F, 0xFFFF, 0xFFFF, 0x0540, 0x0540, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF,
 0xFFFF, 0xFFFF, 0x0540, 0x0540, 0xFFFF, 0xFFFF, 0x451F, 0x451F, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF,
 0x7BEF, 0x0540, 0x0540, 0x0540, 0x0540, 0x0540, 0xFFFF, 0xFFFF, 0xFFFF, 0x0540, 0x0540, 0x0540, 0x0540, 0x0540, 0x0540, 0xFFFF,
 0xFFFF, 0xFFFF, 0x0540, 0x0540, 0x451F, 0x451F, 0x451F, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF,
 0x7BEF, 0x0540, 0x0540, 0x0540, 0x0540, 0x0540, 0x0540, 0x0540, 0x0540, 0x0540, 0x0540, 0x0540, 0x0540, 0x0540, 0xFFFF, 0xFFFF,
 0xFFFF, 0x0540, 0x0540, 0x451F, 0x451F, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF,
 0x0540, 0x451F, 0x451F, 0x0540, 0x0540, 0x0540, 0x0540, 0x0540, 0x0540, 0x0540, 0x0540, 0x0540, 0xFFFF, 0xFFFF, 0xFFFF, 0x0540,
 0x0540, 0x451F, 0x451F, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF,
 0x451F, 0xFFFF, 0xFFFF, 0x0540, 0x0540, 0x451F, 0x451F, 0xFFFF, 0x0540, 0x0540, 0xFFFF, 0xFFFF, 0xFFFF, 0x0540, 0x0540, 0x0540,
 0x451F, 0x451F, 0x0540, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF,
 0x7BEF, 0x7BEF, 0x0540, 0x451F, 0x451F, 0xFFFF, 0xFFFF, 0xFFFF, 0x0540, 0xFFFF, 0xFFFF, 0x0540, 0x0540, 0x0540, 0x0540, 0x451F,
 0xFFFF, 0x0540, 0x0540, 0x7BEF, 0x0540, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF,
 0x7BEF, 0x7BEF, 0x0540, 0x451F, 0xFFFF, 0xFFFF, 0x0540, 0x0540, 0xFFFF, 0xFFFF, 0x0540, 0x0540, 0x0540, 0x0540, 0x451F, 0x0540,
 0x0540, 0x0540, 0x451F, 0x451F, 0x451F, 0x451F, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF,
 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x0540, 0x0540, 0x0540, 0xFFFF, 0xFFFF, 0x0540, 0x0540, 0x0540, 0x0540, 0x451F, 0x0540, 0xFFFF,
 0x451F, 0x451F, 0x0540, 0x0540, 0x451F, 0x451F, 0x451F, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF,
 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x0540, 0x0540, 0x0540, 0x0540, 0x451F, 0x451F, 0x451F, 0x0540,
 0x0540, 0x0540, 0xFFFF, 0x451F, 0x451F, 0x451F, 0x451F, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF,
 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x0540, 0x0540, 0x0540, 0x0540, 0x0540, 0x451F, 0x0540, 0x0540, 0x0540,
 0xFFFF, 0xFFFF, 0xFFFF, 0x451F, 0x451F, 0x451F, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF,
 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x0540, 0x0540, 0x0540, 0x0540, 0x0540, 0x0540, 0x0540, 0x0540, 0xFFFF, 0xFFFF,
 0x0540, 0x0540, 0x451F, 0xFFFF, 0x451F, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF,
 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x0540, 0x0540, 0x0540, 0x0540, 0x0540, 0x0540, 0x0540, 0xFFFF, 0xFFFF, 0x0540,
 0x7BEF, 0x7BEF, 0x451F, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF,
 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x0540, 0x451F, 0x451F, 0x0540, 0x0540, 0x0540, 0x0540, 0xFFFF, 0x7BEF, 0x7BEF, 0x7BEF,
 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF,
 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x451F, 0x451F, 0x7BEF, 0x7BEF, 0x0540, 0x0540, 0x0540, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF,
 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF,
 0x7BEF, 0x7BEF, 0x7BEF, 0x451F, 0x7BEF, 0x7BEF, 0x7BEF, 0x0540, 0x0540, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF,
 0x7BEF,
};

const unsigned short bowser_closed_mouth[] = {
	0x451F, 0x451F, 0x451F, 0x451F, 0x451F, 0x7BEF, 0x7BEF, 0x7BEF, 0x451F, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF,
 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0xFFFF,
 0x451F, 0x451F, 0x451F, 0x451F, 0x7BEF, 0x7BEF, 0x451F, 0x451F, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF,
 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0xFFFF, 0xFFFF,
 0x451F, 0x451F, 0x451F, 0x451F, 0x451F, 0x451F, 0x451F, 0x451F, 0x451F, 0x451F, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF,
 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0xFFFF, 0xFFFF, 0xFFFF,
 0xFFFF, 0x451F, 0x451F, 0x451F, 0x451F, 0x0540, 0x0540, 0x451F, 0x451F, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF,
 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF,
 0xFFFF, 0xFFFF, 0x0540, 0x0540, 0x0540, 0x0540, 0x0540, 0x0540, 0x451F, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF,
 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x0540, 0x0540, 0x0540, 0x0540, 0xFFFF,
 0xFFFF, 0xFFFF, 0xFFFF, 0x0540, 0x0540, 0x0540, 0x0540, 0x0540, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF,
 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x0540, 0x0540, 0x0540, 0x0540, 0x0540, 0x0540,
 0xFFFF, 0xFFFF, 0xFFFF, 0x0540, 0x0540, 0x0540, 0x0540, 0x0540, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF,
 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x0540, 0x451F, 0x0540, 0x0540, 0x451F, 0x0540, 0x0540,
 0x0540, 0xFFFF, 0xFFFF, 0x0540, 0x0540, 0x0540, 0x0540, 0x0540, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF,
 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x451F, 0x451F, 0x0540, 0xFFFF, 0xFFFF, 0x0540, 0x0540, 0x0540,
 0x0540, 0xFFFF, 0x0540, 0x0540, 0x0540, 0x0540, 0x0540, 0x7BEF, 0x451F, 0x451F, 0x451F, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF,
 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0xFFFF, 0xFFFF, 0x0540, 0x0540, 0x0540, 0x0540, 0x0540, 0x0540, 0x0540,
 0xFFFF, 0xFFFF, 0x0540, 0x0540, 0x0540, 0x0540, 0x451F, 0x451F, 0x451F, 0x451F, 0x451F, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF,
 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0xFFFF, 0xFFFF, 0x0540, 0x0540, 0x451F, 0x451F, 0x0540, 0x0540, 0x0540, 0xFFFF,
 0xFFFF, 0x0540, 0x0540, 0x0540, 0x0540, 0x451F, 0x451F, 0x451F, 0x451F, 0x451F, 0x7BEF, 0x7BEF, 0x451F, 0x7BEF, 0x7BEF, 0x7BEF,
 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0xFFFF, 0x0540, 0x0540, 0x0540, 0x451F, 0xFFFF, 0xFFFF, 0x0540, 0x0540, 0xFFFF, 0xFFFF,
 0x0540, 0x0540, 0xFFFF, 0x451F, 0x451F, 0x451F, 0x451F, 0x451F, 0x451F, 0x7BEF, 0x7BEF, 0x451F, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF,
 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x451F, 0x0540, 0x0540, 0x0540, 0xFFFF, 0xFFFF, 0xFFFF, 0x0540, 0x0540, 0x0540, 0xFFFF, 0x0540,
 0x0540, 0xFFFF, 0xFFFF, 0x451F, 0x451F, 0x451F, 0x451F, 0x7BEF, 0x7BEF, 0x451F, 0x451F, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF,
 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x0540, 0x0540, 0x0540, 0x0540, 0x0540, 0x0540, 0x0540, 0x0540, 0x0540, 0xFFFF, 0x0540, 0x451F,
 0x451F, 0xFFFF, 0xFFFF, 0x451F, 0x451F, 0x451F, 0x7BEF, 0x7BEF, 0x451F, 0x451F, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF,
 0x7BEF, 0x7BEF, 0x7BEF, 0x451F, 0x451F, 0x0540, 0x0540, 0x0540, 0x0540, 0x0540, 0x0540, 0x0540, 0xFFFF, 0xFFFF, 0x451F, 0x451F,
 0x451F, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0x451F, 0x451F, 0x451F, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF,
 0x7BEF, 0x7BEF, 0x451F, 0xFFFF, 0xFFFF, 0x0540, 0x0540, 0x0540, 0x451F, 0x451F, 0x0540, 0x0540, 0xFFFF, 0xFFFF, 0x451F, 0x451F,
 0x451F, 0x0540, 0x0540, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF,
 0x7BEF, 0x7BEF, 0xFFFF, 0xFFFF, 0x0540, 0x0540, 0x0540, 0x451F, 0xFFFF, 0xFFFF, 0x0540, 0x0540, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF,
 0xFFFF, 0xFFFF, 0x0540, 0x0540, 0xFFFF, 0xFFFF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF,
 0x7BEF, 0x0540, 0x0540, 0x0540, 0x0540, 0x0540, 0xFFFF, 0xFFFF, 0xFFFF, 0x0540, 0x0540, 0x0540, 0x0540, 0x0540, 0x0540, 0xFFFF,
 0xFFFF, 0xFFFF, 0x0540, 0x0540, 0x0540, 0x0540, 0x0540, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF,
 0x7BEF, 0x0540, 0x0540, 0x0540, 0x0540, 0x0540, 0x0540, 0x0540, 0x0540, 0x0540, 0x0540, 0x0540, 0x0540, 0x0540, 0xFFFF, 0xFFFF,
 0xFFFF, 0x0540, 0x0540, 0x0540, 0x0540, 0x0540, 0x0540, 0x0540, 0x0540, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF,
 0x0540, 0x451F, 0x451F, 0x0540, 0x0540, 0x0540, 0x0540, 0x0540, 0x0540, 0x0540, 0x0540, 0x0540, 0xFFFF, 0xFFFF, 0xFFFF, 0x0540,
 0x0540, 0x0540, 0x0540, 0x451F, 0x451F, 0x451F, 0x451F, 0x451F, 0x451F, 0x451F, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF,
 0x451F, 0xFFFF, 0xFFFF, 0x0540, 0x0540, 0x451F, 0x451F, 0xFFFF, 0x0540, 0x0540, 0xFFFF, 0xFFFF, 0xFFFF, 0x0540, 0x0540, 0x0540,
 0x0540, 0x451F, 0x451F, 0x451F, 0x451F, 0x451F, 0x451F, 0x451F, 0x451F, 0x451F, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF,
 0x7BEF, 0x7BEF, 0x0540, 0x451F, 0x451F, 0xFFFF, 0xFFFF, 0xFFFF, 0x0540, 0xFFFF, 0xFFFF, 0x0540, 0x0540, 0x0540, 0x0540, 0x0540,
 0x451F, 0x451F, 0x0540, 0xFFFF, 0x0540, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF,
 0x7BEF, 0x7BEF, 0x0540, 0x451F, 0xFFFF, 0xFFFF, 0x0540, 0x0540, 0xFFFF, 0xFFFF, 0x0540, 0x0540, 0x0540, 0x0540, 0x451F, 0x451F,
 0x0540, 0x0540, 0x451F, 0x451F, 0x451F, 0x451F, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF,
 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x0540, 0x0540, 0x0540, 0xFFFF, 0xFFFF, 0x0540, 0x0540, 0x0540, 0x0540, 0x451F, 0x0540, 0xFFFF,
 0x451F, 0x451F, 0x0540, 0x0540, 0x451F, 0x451F, 0x451F, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF,
 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x0540, 0x0540, 0x0540, 0x0540, 0x451F, 0x451F, 0x451F, 0x0540,
 0x0540, 0x0540, 0xFFFF, 0x451F, 0x451F, 0x451F, 0x451F, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF,
 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x0540, 0x0540, 0x0540, 0x0540, 0x0540, 0x451F, 0x0540, 0x0540, 0x0540,
 0xFFFF, 0xFFFF, 0xFFFF, 0x451F, 0x451F, 0x451F, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF,
 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x0540, 0x0540, 0x0540, 0x0540, 0x0540, 0x0540, 0x0540, 0x0540, 0xFFFF, 0xFFFF,
 0x0540, 0x0540, 0x451F, 0xFFFF, 0x451F, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF,
 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x0540, 0x0540, 0x0540, 0x0540, 0x0540, 0x0540, 0x0540, 0xFFFF, 0xFFFF, 0x0540,
 0x7BEF, 0x7BEF, 0x451F, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF,
 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x0540, 0x451F, 0x451F, 0x0540, 0x0540, 0x0540, 0x0540, 0xFFFF, 0x7BEF, 0x7BEF, 0x7BEF,
 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF,
 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x451F, 0x451F, 0x7BEF, 0x7BEF, 0x0540, 0x0540, 0x0540, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF,
 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF,
 0x7BEF, 0x7BEF, 0x7BEF, 0x451F, 0x7BEF, 0x7BEF, 0x7BEF, 0x0540, 0x0540, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF,
 0x7BEF,
};

const unsigned short ladder[] = {
 0xF733, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0xF733, 0xF733, 0xF733, 0xF733,
 0xF733, 0xF733, 0xF733, 0xF733, 0xF733, 0xF733, 0xF733, 0xF733, 0xF733, 0xF733, 0xF733, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF,
 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0xF733,
};

const unsigned short platform[] = {
 0x20FD, 0x20FD, 0x20FD, 0x20FD, 0x20FD, 0x20FD, 0x20FD, 0x0000, 0x0000, 0x0000, 0x0000, 0x20FD, 0x0000, 0x20FD, 0x0000, 0x0000,
 0x20FD, 0x0000, 0x0000, 0x0000, 0x20FD, 0x20FD, 0x0000, 0x0000, 0x20FD, 0x20FD, 0x20FD, 0x20FD, 0x20FD, 0x20FD,

};



const unsigned short fireball_right[] = {
 0x7BEF, 0x7BEF, 0x7BEF, 0x023C, 0x023C, 0x023C, 0x023C, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x023C, 0x023C, 0x54BF, 0x54BF,
 0x023C, 0x023C, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x023C, 0x54BF, 0x54BF, 0xFFFF, 0x54BF, 0x023C, 0x023C, 0x7BEF, 0x7BEF, 0x7BEF,
 0x023C, 0x023C, 0x54BF, 0x54BF, 0xFFFF, 0x54BF, 0x023C, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x023C, 0x023C, 0x023C, 0x54BF, 0x54BF,
 0x023C, 0x7BEF, 0x7BEF, 0x023C, 0x7BEF, 0x7BEF, 0x7BEF, 0x023C, 0x54BF, 0x023C, 0x023C, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x023C,
 0x7BEF, 0x023C, 0x023C, 0x023C, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x023C, 0x7BEF, 0x023C, 0x023C, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF,
 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF,
 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF,
};

const unsigned short fireball_left[] = {
 0x7BEF, 0x7BEF, 0x7BEF, 0x023C, 0x023C, 0x023C, 0x023C, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x023C, 0x023C, 0x54BF, 0x54BF,
 0x023C, 0x023C, 0x7BEF, 0x7BEF, 0x7BEF, 0x023C, 0x023C, 0x54BF, 0xCEDF, 0x54BF, 0x54BF, 0x023C, 0x7BEF, 0x7BEF, 0x7BEF, 0x023C,
 0x54BF, 0xCF1F, 0x54BF, 0x54BF, 0x023C, 0x023C, 0x7BEF, 0x7BEF, 0x7BEF, 0x023C, 0x54BF, 0x54BF, 0x023C, 0x023C, 0x023C, 0x7BEF,
 0x7BEF, 0x7BEF, 0x7BEF, 0x023C, 0x023C, 0x54BF, 0x023C, 0x7BEF, 0x7BEF, 0x7BEF, 0x023C, 0x7BEF, 0x7BEF, 0x7BEF, 0x023C, 0x023C,
 0x023C, 0x73D1, 0x023C, 0x73D1, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x023C, 0x023C, 0x5B93, 0x023C, 0x7BEF, 0x7BEF,
 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF,
 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF,
};



const unsigned short mario_climbing_1[] = {
 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF,
 0x7BEF, 0x7BEF, 0x7BEF, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF,
 0x7BEF, 0x7BEF, 0x7BEF, 0xA7DF, 0x0000, 0x0000, 0x0000, 0x3B93, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x0000, 0x0000,
 0x0000, 0x0000, 0x7BEF, 0x3B93, 0x3B93, 0x3B93, 0x3B93, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x3B93, 0x3B93, 0x3B93,
 0x3B93, 0x3B93, 0x3B93, 0x3B93, 0x3B93, 0x3B93, 0x3B93, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0xA9C5, 0xE795, 0x9C46, 0xE795,
 0xE795, 0xE795, 0xE795, 0x9C46, 0xE795, 0xA9C5, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0xA9C5, 0xE795, 0x9C46, 0xE795, 0xE795,
 0xE795, 0xE795, 0x9C46, 0xE795, 0xA9C5, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0xA9C5, 0xE795, 0x9C46, 0xE795, 0x50D7, 0x50D7,
 0xE795, 0x9C46, 0xE795, 0xA9C5, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x1011, 0x50D7, 0x9C46, 0x50D7, 0x50D7, 0x50D7, 0x50D7,
 0x9C46, 0x50D7, 0x50D7, 0x50D7, 0x1011, 0x7BEF, 0x7BEF, 0x7BEF, 0x1011, 0x50D7, 0x9C46, 0x1011, 0x1011, 0x1011, 0x1011, 0x9C46,
 0x50D7, 0x50D7, 0x1011, 0x1011, 0x7BEF, 0x7BEF, 0x1011, 0x50D7, 0x50D7, 0xEF5F, 0xEF5F, 0xEF5F, 0xEF5F, 0xEF5F, 0xEF5F, 0x1011,
 0x1011, 0x1011, 0x7BEF, 0x7BEF, 0x7BEF, 0x1011, 0x50D7, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x7BEF,
 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x1011, 0x50D7, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x7BEF, 0x7BEF,
 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x1011, 0x50D7, 0x0000, 0x50D7, 0x50D7, 0x50D7, 0x50D7, 0x0000, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF,
 0x7BEF, 0x7BEF, 0x7BEF, 0x3B93, 0x3B93, 0x1011, 0x8B7D, 0x8B7D, 0x8B7D, 0x8B7D, 0x1011, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF,
 0x7BEF, 0x3B93, 0xFFFF, 0xFFFF, 0xFFFF, 0x3B93, 0x1011, 0x1011, 0x1011, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF,
 0x3B93, 0xFFFF, 0xFFFF, 0x3B93, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF,
 0x3B93, 0x3B93, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF,
 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF,
 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF,
};

const unsigned short mario_climbing_2[] = {
 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF,
 0x7BEF, 0x7BEF, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF,
 0x7BEF, 0x3B93, 0x0000, 0x0000, 0x0000, 0xA7DF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF,
 0x3B93, 0x3B93, 0x3B93, 0x3B93, 0x7BEF, 0x0000, 0x0000, 0x0000, 0x0000, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x3B93, 0x3B93,
 0x3B93, 0x3B93, 0x3B93, 0x3B93, 0x3B93, 0x3B93, 0x3B93, 0x3B93, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0xA9C5, 0xE795, 0x9C46,
 0xE795, 0xE795, 0xE795, 0xE795, 0x9C46, 0xE795, 0xA9C5, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0xA9C5, 0xE795, 0x9C46, 0xE795,
 0xE795, 0xE795, 0xE795, 0x9C46, 0xE795, 0xA9C5, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0xA9C5, 0xE795, 0x9C46, 0xE795, 0x50D7,
 0x50D7, 0xE795, 0x9C46, 0xE795, 0xA9C5, 0x7BEF, 0x7BEF, 0x7BEF, 0x1011, 0x50D7, 0x50D7, 0x50D7, 0x9C46, 0x50D7, 0x50D7, 0x50D7,
 0x50D7, 0x9C46, 0x50D7, 0x1011, 0x7BEF, 0x7BEF, 0x7BEF, 0x1011, 0x1011, 0x50D7, 0x50D7, 0x9C46, 0x1011, 0x1011, 0x1011, 0x1011,
 0x9C46, 0x50D7, 0x1011, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x1011, 0x1011, 0x1011, 0xEF5F, 0xEF5F, 0xEF5F, 0xEF5F, 0xEF5F, 0xEF5F,
 0x50D7, 0x50D7, 0x1011, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
 0x50D7, 0x1011, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x50D7,
 0x1011, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x0000, 0x50D7, 0x50D7, 0x50D7, 0x50D7, 0x0000, 0x50D7, 0x1011, 0x7BEF,
 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x1011, 0x8B7D, 0x8B7D, 0x8B7D, 0x8B7D, 0x1011, 0x3B93, 0x3B93, 0x7BEF, 0x7BEF,
 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x1011, 0x1011, 0x1011, 0x3B93, 0xFFFF, 0xFFFF, 0xFFFF, 0x3B93, 0x7BEF, 0x7BEF,
 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x3B93, 0xFFFF, 0xFFFF, 0x3B93, 0x7BEF, 0x7BEF, 0x7BEF,
 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x3B93, 0x3B93, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF,
 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF,
 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF,
};


// *************************** Capture image dimensions out of BMP**********

//**********************Character Status Typedef****************************
typedef enum {dead,alive,open,closed} state;
typedef enum {still,walking,jumping,climbing_up,climbing_down} moving;
typedef enum {left,right} direct;
typedef struct charac{
	const unsigned short *pic;
	state status;
	moving movement;
	direct direction;
	uint32_t pastx;
	uint32_t pasty;
	uint32_t newx;
	uint32_t newy;
	int8_t changex;
	int8_t changey;
	uint32_t miny;
} character;
typedef struct coord{
	uint32_t x;
	uint32_t y;
} coordinates;
uint8_t lose = 0;
//*******************Character Status***************************************
character characters[character_size] = {																	//this array has all of the characters in the game
	{bowser_closed_mouth,open,still,right,5,32,5,32,0,0},				//bowser status
	{mario_still_left,alive,still,right,108,153,108,153,0,0,153},		//mario status
	{fireball_right,dead,walking,right,30,20,30,20,1,1},		//fireball 1 status
	{fireball_right,dead,walking,right,30,20,30,20,1,1},		//fireball 2 status
	{fireball_right,dead,walking,right,30,20,30,20,1,1},		//fireball 3 status
	{fireball_right,dead,walking,right,30,20,30,20,1,1},		//fireball 4 status
	{fireball_right,dead,walking,right,30,20,30,20,1,1},		//fireball 5 status
	{fireball_right,dead,walking,right,30,20,30,20,1,1},		//fireball 6 status
	{fireball_right,dead,walking,right,30,20,30,20,1,1},		//fireball 7 status
	{fireball_right,dead,walking,right,30,20,30,20,1,1},		//fireball 8 status
	{fireball_right,dead,walking,right,30,20,30,20,1,1},		//fireball 9 status
	{fireball_right,dead,walking,right,30,20,30,20,1,1},		//fireball 10 status
	{fireball_right,dead,walking,right,30,20,30,20,1,1},		//fireball 11 status
};
//ladders
coordinates enemy_ladders_bottom[24]={
	{20,151},{19,151},{21,151},{74,153},{75,153},{76,153},	//row1
	{44,118},{45,118},{46,118},{89,117},{90,117},{91,117},	//row2
	{17,88},{18,88},{19,88},{59,90},{60,90},{61,90},				//row3
	{41,60},{42,60},{43,60},{101,62},{102,62},{103,62},			//row4
	//enemies cannot go up to win level
};
coordinates player_ladders_bottom[12]={
	{20,151},{22,151},																//row1
	{44,118},{46,118},{90,117},{92,117},						//row2
	{18,88},{20,88},																//row3
	{102,61},{104,60},															//row4
	{70,34},{72,34}																	//row5
};
coordinates enemy_ladders_top[24]={
	{20,119},{19,119},{21,119},{74,120},{75,120},{76,120},	//row2
	{44,89},{45,89},{46,89},{89,91},{90,91},{91,91},				//row3
	{17,63},{18,63},{19,63},{59,61},{60,61},{61,61},				//row4
	{41,33},{42,33},{43,33},{101,35},{102,35},{103,35},			//row5
	//enemies cannot go up to win level
};
coordinates player_ladders_top[12]={
	{20,119},{22,119},															//row2
	{44,89},{46,89},{90,91},{92,91},				//row3
	{18,63},{20,63},																//row4
	{102,35},{104,35},																//row5
	{70,17},{72,17}
};

//function declarations
void DisableInterrupts(void); // Disable interrupts
void EnableInterrupts(void);  // Enable interrupts
void Delay100ms(uint32_t count); // time delay in 0.1 seconds
void Move(uint8_t char_num);
void Movedown(uint8_t char_num);
void checkADC (void);
void update_Fire(uint8_t firenum);
void draw_Stage1(void);
void draw_init_characters(void);
void ADC_Init(void);
void draw_Ladder1(void);
void mario_platform_left(void);
void mario_platform_right(void);
void fireball_collision(uint8_t firenum);
void SysTick_Init(void);
void SysTick_Handler(void);
void PortF_Init(void);
uint32_t  x_ADC_In(void);
uint32_t  y_ADC_In(void);
void ST7735_FillRect(int16_t x, int16_t y, int16_t w, int16_t h, uint16_t color);

uint32_t start;
uint32_t difficulty = 120;
uint8_t fireball_wait = 0;	//delay for next fireball
uint8_t fireball_ref = 2;	//reference to which fireball
int main(void){
  TExaS_Init();  // set system clock to 80 MHz
	ADC_Init();
	SysTick_Init();
	PortF_Init();
	EnableInterrupts();
  Output_Init();
  ST7735_FillScreen(0x7BEF);            // set screen to black
	draw_Stage1();
	draw_init_characters();
	start = difficulty;													//delay before mario can move
  while(!lose){
	//fireballs fire one by one
		draw_Stage1();	//layering stage behind mario
		ST7735_DrawBitmap(characters[bowser].newx, characters[bowser].newy, characters[bowser].pic, 31,31);
		for(uint8_t fireball = 2; fireball < 12; fireball++){
			if(characters[fireball].status == alive){
				ST7735_DrawBitmap(characters[fireball].newx, characters[fireball].newy, characters[fireball].pic, 10,10);
				if(characters[fireball].newx==126){
					characters[fireball].status=dead;
				}
			}
		}
		ST7735_FillRect((int16_t)(characters[mario].pastx), (int16_t)(characters[mario].pasty-1), 15, 2, 0x7BEF);
		ST7735_FillRect((int16_t)(characters[mario].pastx), (int16_t)(characters[mario].pasty-19), 15, 2, 0x7BEF);
		ST7735_FillRect((int16_t)(characters[mario].pastx-1), (int16_t)(characters[mario].pasty-18), 3, 20, 0x7BEF);
		ST7735_FillRect((int16_t)(characters[mario].pastx+13), (int16_t)(characters[mario].pasty-18), 3, 20, 0x7BEF);
		ST7735_DrawBitmap(characters[mario].newx, characters[mario].newy, characters[mario].pic, 15,20);
	}
	ST7735_FillScreen(0);
}
void Move(uint8_t char_num){
	if(((characters[char_num].newx + characters[char_num].changex)<113)&&((characters[char_num].newx + characters[char_num].changex)>0)){
		characters[char_num].pastx = characters[char_num].newx;
		characters[char_num].newx += characters[char_num].changex;
	}
	characters[char_num].pasty = characters[char_num].newy;
	characters[char_num].newy -= characters[char_num].changey;		//this flips it so positive changey goes up on the screen
}
void Movedown(uint8_t char_num){	//moves down
	characters[char_num].pastx = characters[char_num].newx;
	characters[char_num].pasty = characters[char_num].newy;
	characters[char_num].newy += characters[char_num].changey;		//this flips it so positive changey goes up on the screen
}
void Moveright(uint8_t char_num){	//moves down
	characters[char_num].pastx = characters[char_num].newx;
	characters[char_num].pasty = characters[char_num].newy;
	characters[char_num].newx += characters[char_num].changex;		//this flips it so positive changey goes up on the screen
}
void Moveleft(uint8_t char_num){	//moves down
	characters[char_num].pastx = characters[char_num].newx;
	characters[char_num].pasty = characters[char_num].newy;
	characters[char_num].newx -= characters[char_num].changex;		//this flips it so positive changey goes up on the screen
}
void Moveup(uint8_t char_num){	//moves down
	characters[char_num].pastx = characters[char_num].newx;
	characters[char_num].pasty = characters[char_num].newy;
	characters[char_num].newy -= characters[char_num].changey;		//this flips it so positive changey goes up on the screen
}

void fireball_collision(uint8_t firenum){
	for(uint8_t x = characters[firenum].newx; x < (characters[firenum].newx + 8); x++){
		for(uint8_t y = characters[firenum].newy; y > (characters[firenum].newy -8); y--){
			if(((characters[mario].newx == x)||((characters[mario].newx + 14) == x)) && ((characters[mario].newy == y)||(characters[mario].newy == (y+1))||(characters[mario].newy == (y-1)))){
				ST7735_FillScreen(0x0000);	//replace with game over screen
				lose = 1;
			}
			
		}
	}
}
uint8_t fireball_animation = 0;
void update_Fire (uint8_t firenum){
	uint8_t not_Move = 1;	 //tracks if a move was done
	for(uint8_t i = 0; i < 24 ; i++){	//Check if the fireball should go down ladder
		if((characters[firenum].newx == enemy_ladders_top[i].x) && (characters[firenum].newy == enemy_ladders_top[i].y)){
				uint32_t val1 = x_ADC_In()*1256;
				Random_Init(NVIC_ST_CURRENT_R*val1);
				if(Random() > 190){
					Movedown(firenum);
				}			
		}
	}
	
	//bottom row 
	if(characters[firenum].newy == 151){
		for( uint8_t x = 0 ; x < 36; x++){
			if( characters[firenum].newx == x){
				Moveright(firenum);
				characters[firenum].pic = fireball_right;
				not_Move = 0;
				break;
			}
		}
	}
	if(characters[firenum].newy == 152){
		for( uint8_t x = 36 ; x < 72; x++){
			if( characters[firenum].newx == x){
				Moveright(firenum);
				characters[firenum].pic = fireball_right;
				not_Move = 0;
				break;
			}
		}
	}
	if(characters[firenum].newy == 153){
		for( uint8_t x = 72 ; x < 132; x++){
			if( characters[firenum].newx == x){
				Moveright(firenum);
				characters[firenum].pic = fireball_right;
				not_Move = 0;
				break;
			}
		}
	}
	//2nd row 
	if(characters[firenum].newy == 119){
		for( uint8_t x = 4 ; x < 42; x++){
			if( characters[firenum].newx == x){
				Moveleft(firenum);
				characters[firenum].pic = fireball_left;
				not_Move = 0;
				break;
			}
		}
	}
	if(characters[firenum].newy == 118){
		for( uint8_t x = 42 ; x < 72; x++){
			if( characters[firenum].newx == x){
				Moveleft(firenum);
				characters[firenum].pic = fireball_left;
				not_Move = 0;
				break;
			}
		}
	}
	if(characters[firenum].newy == 117){
		for( uint8_t x = 72 ; x < 102; x++){
			if( characters[firenum].newx == x){
				Moveleft(firenum);
				characters[firenum].pic = fireball_left;
				not_Move = 0;
				break;
			}
		}
	}
	if(characters[firenum].newy == 116){
		for( uint8_t x = 102 ; x < 132; x++){
			if( characters[firenum].newx == x){
				Moveleft(firenum);
				characters[firenum].pic = fireball_left;
				not_Move = 0;
				break;
			}
		}
	}
	//3rd row
	if(characters[firenum].newy == 88){
		for( uint8_t x = 0 ; x < 30; x++){
			if( characters[firenum].newx == x){
				Moveright(firenum);
				characters[firenum].pic = fireball_right;
				not_Move = 0;
				break;
			}
		}
	}
	if(characters[firenum].newy == 89){
		for( uint8_t x = 30 ; x < 60; x++){
			if( characters[firenum].newx == x){
				Moveright(firenum);
				characters[firenum].pic = fireball_right;
				not_Move = 0;
				break;
			}
		}
	}
	if(characters[firenum].newy == 90){
		for( uint8_t x = 60 ; x < 90; x++){
			if( characters[firenum].newx == x){
				Moveright(firenum);
				characters[firenum].pic = fireball_right;
				not_Move = 0;
				break;
			}
		}
	}
	if(characters[firenum].newy == 91){
		for( uint8_t x = 90 ; x < 120; x++){
			if( characters[firenum].newx == x){
				Moveright(firenum);
				characters[firenum].pic = fireball_right;
				not_Move = 0;
				break;
			}
		}
	}
	//4th row
	if(characters[firenum].newy == 63){
		for( uint8_t x = 4 ; x < 42; x++){
			if( characters[firenum].newx == x){
				Moveleft(firenum);
				characters[firenum].pic = fireball_left;
				not_Move = 0;
				break;
			}
		}
	}
	if(characters[firenum].newy == 62){
		for( uint8_t x = 42 ; x < 72; x++){
			if( characters[firenum].newx == x){
				Moveleft(firenum);
				characters[firenum].pic = fireball_left;
				not_Move = 0;
				break;
			}
		}
	}
	if(characters[firenum].newy == 61){
		for( uint8_t x = 72 ; x < 102; x++){
			if( characters[firenum].newx == x){
				Moveleft(firenum);
				characters[firenum].pic = fireball_left;
				not_Move = 0;
				break;
			}
		}
	}
	if(characters[firenum].newy == 60){
		for( uint8_t x = 102 ; x < 132; x++){
			if( characters[firenum].newx == x){
				Moveleft(firenum);
				characters[firenum].pic = fireball_left;
				not_Move = 0;
				break;
			}
		}
	}
	//top row
	if(characters[firenum].newy == 33){
		for( uint8_t x = 0 ; x < 60; x++){
			if( characters[firenum].newx == x){
				Moveright(firenum);
				characters[firenum].pic = fireball_right;
				not_Move = 0;
				characters[bowser].pic = bowser_closed_mouth;	//closes bowsers mouth after fireball comes out
				break;
				
			}
		}
	}
	if(characters[firenum].newy == 34){
		for( uint8_t x = 60 ; x < 90; x++){
			if( characters[firenum].newx == x){
				Moveright(firenum);
				characters[firenum].pic = fireball_right;
				not_Move = 0;
				break;
			}
		}
	}
	if(characters[firenum].newy == 35){
		for( uint8_t x = 90 ; x < 120; x++){
			if( characters[firenum].newx == x){
				Moveright(firenum);
				characters[firenum].pic = fireball_right;
				not_Move = 0;
				break;
			}
		}
	}	
	if(characters[firenum].newy == 153 && characters[firenum].newx == 132){
		characters[firenum].newy = 20;
		characters[firenum].newx = 30;
	}
	
	if (not_Move){
		Movedown(firenum);
	}
}
	
uint32_t xADCvalue;
	uint32_t yADCvalue;
//movement controls for mario
void checkADC (void){
	xADCvalue = x_ADC_In();
	yADCvalue = y_ADC_In();
	if((xADCvalue<=3000)&&(xADCvalue>=1000)&&(characters[mario].movement!=climbing_down)&&(characters[mario].movement!=climbing_up)){
		characters[mario].changex = 0;
		if((characters[mario].pastx)<(characters[mario].newx)){
			characters[mario].pic = mario_still_right;
		}
		if((characters[mario].pastx)>(characters[mario].newx)){
			characters[mario].pic = mario_still_left;
		}
	}
	if((xADCvalue>3000)&&(characters[mario].movement!=climbing_down)&&(characters[mario].movement!=climbing_up)){
		characters[mario].changex = -2;
		if(characters[mario].pic!=mario_run_left){
			characters[mario].pic=mario_run_left;
		}
		else{
			characters[mario].pic=mario_still_left;
		}
		mario_platform_left();
	}
	if((xADCvalue<1000)&&(characters[mario].movement!=climbing_down)&&(characters[mario].movement!=climbing_up)){
		characters[mario].changex = 2;
		if(characters[mario].pic!=mario_run_right){
			characters[mario].pic=mario_run_right;
		}
		else{
			characters[mario].pic=mario_still_right;
		}
		mario_platform_right();
	}	
	if((yADCvalue<3000)&&(yADCvalue>1000)){
		characters[mario].changey = 0;
	}
	if(yADCvalue<1000){
		if((characters[mario].movement==climbing_down)||(characters[mario].movement==climbing_up)){
			characters[mario].movement=climbing_down;
			characters[mario].changey = -1;
			if (characters[mario].pic==mario_climbing_1){
				characters[mario].pic=mario_climbing_2;
			}
			else{
				characters[mario].pic=mario_climbing_1;
			}
		}
		else{
			for(uint16_t i=0;i<18;i++){
				if((characters[mario].newx==player_ladders_top[i].x)&&(characters[mario].newy==player_ladders_top[i].y)){
					characters[mario].changex = 0;
					characters[mario].changey = -1;
					characters[mario].movement = climbing_down;
				}
			}
		}
	}
	if(yADCvalue>3000){
		if((characters[mario].movement==climbing_down)||(characters[mario].movement==climbing_up)){
			characters[mario].movement=climbing_up;
			characters[mario].changey = 1;
			if (characters[mario].pic==mario_climbing_1){
				characters[mario].pic=mario_climbing_2;
			}
			else{
				characters[mario].pic=mario_climbing_1;
			}
		}
		else{
			for(uint16_t i=0;i<18;i++){
				if((characters[mario].newx==player_ladders_bottom[i].x)&&(characters[mario].newy==player_ladders_bottom[i].y)){
					characters[mario].changex = 0;
					characters[mario].changey = 1;
					characters[mario].movement = climbing_up;
				}
			}
		}
	}
}

void mario_platform_left(void){
	//first row
	if(characters[mario].newx == 72){
			for( uint8_t y = 158; y > 124; y--){
				if((characters[mario].newy==y)&&(characters[mario].pastx!=(characters[mario].newx+characters[mario].changex))){	
					characters[mario].pasty = characters[mario].newy;
					characters[mario].miny=152;
					break;
				}
			}
		}
	if(characters[mario].newx == 36){
		for( uint8_t y = 158; y > 125; y--){
			if((characters[mario].newy==y)&&(characters[mario].pastx!=(characters[mario].newx+characters[mario].changex))){	
				characters[mario].pasty = characters[mario].newy;
				characters[mario].miny=151;
				break;
			}
		}
	}
	//second row
	if(characters[mario].newx == 42){
		for( uint8_t y = 123; y > 97; y--){
			if((characters[mario].newy==y)&&(characters[mario].pastx!=(characters[mario].newx+characters[mario].changex))){	
				characters[mario].pasty = characters[mario].newy;
				characters[mario].miny=119;
				break;
			}
		}
	}
	if(characters[mario].newx == 72){
		for( uint8_t y = 122; y > 97; y--){
			if((characters[mario].newy==y)&&(characters[mario].pastx!=(characters[mario].newx+characters[mario].changex))){	
				characters[mario].pasty = characters[mario].newy;
				characters[mario].miny=118;
				break;
			}
		}
	}
	if(characters[mario].newx == 102){
		for( uint8_t y = 121; y > 97; y--){
			if((characters[mario].newy==y)&&(characters[mario].pastx!=(characters[mario].newx+characters[mario].changex))){	
				characters[mario].pasty = characters[mario].newy;
				characters[mario].miny=117;
				break;
			}
		}
	}
	//third row
	if(characters[mario].newx == 90){
		for( uint8_t y = 96; y > 69; y--){
			if((characters[mario].newy==y)&&(characters[mario].pastx!=(characters[mario].newx+characters[mario].changex))){	
				characters[mario].pasty = characters[mario].newy;
				characters[mario].miny=90;
				break;
			}
		}
	}
	if(characters[mario].newx == 60){
		for( uint8_t y = 95; y > 69; y--){
			if((characters[mario].newy==y)&&(characters[mario].pastx!=(characters[mario].newx+characters[mario].changex))){	
				characters[mario].pasty = characters[mario].newy;
				characters[mario].miny=89;
				break;
			}
		}
	}
	if(characters[mario].newx == 30){
		for( uint8_t y = 94; y > 69; y--){
			if((characters[mario].newy==y)&&(characters[mario].pastx!=(characters[mario].newx+characters[mario].changex))){	
				characters[mario].pasty = characters[mario].newy;
				characters[mario].miny=88;
				break;
			}
		}
	}
	//fourth row
	if(characters[mario].newx == 42){
		for( uint8_t y = 67; y > 41; y--){
			if((characters[mario].newy==y)&&(characters[mario].pastx!=(characters[mario].newx+characters[mario].changex))){	
				characters[mario].pasty = characters[mario].newy;
				characters[mario].miny=63;
				break;
			}
		}
	}
	if(characters[mario].newx == 72){
		for( uint8_t y = 66; y > 41; y--){
			if((characters[mario].newy==y)&&(characters[mario].pastx!=(characters[mario].newx+characters[mario].changex))){	
				characters[mario].pasty = characters[mario].newy;
				characters[mario].miny=62;
				break;
			}
		}
	}
	if(characters[mario].newx == 102){
		for( uint8_t y = 65; y > 41; y--){
			if((characters[mario].newy==y)&&(characters[mario].pastx!=(characters[mario].newx+characters[mario].changex))){	
				characters[mario].pasty = characters[mario].newy;
				characters[mario].miny=61;
				break;
			}
		}
	}
	//fifth row
	if(characters[mario].newx == 90){
		for( uint8_t y = 40; y > 22; y--){
			if((characters[mario].newy==y)&&(characters[mario].pastx!=(characters[mario].newx+characters[mario].changex))){	
				characters[mario].pasty = characters[mario].newy;
				characters[mario].miny=34;
				break;
			}
		}
	}
	if(characters[mario].newx == 60){
		for( uint8_t y = 38; y > 22; y--){
			if((characters[mario].newy==y)&&(characters[mario].pastx!=(characters[mario].newx+characters[mario].changex))){	
				characters[mario].pasty = characters[mario].newy;
				characters[mario].miny=33;
				break;
			}
		}
	}
}

void mario_platform_right(void){
	//first row
	if(characters[mario].newx == 72){
			for( uint8_t y = 158; y > 124; y--){
				if((characters[mario].newy==y)&&(characters[mario].pastx!=(characters[mario].newx+characters[mario].changex))){		
					characters[mario].pasty = characters[mario].newy;
					characters[mario].miny=153;
					break;
				}
			}
	}
	if(characters[mario].newx == 36){
		for( uint8_t y = 158; y > 125; y--){
			if((characters[mario].newy==y)&&(characters[mario].pastx!=(characters[mario].newx+characters[mario].changex))){	
				characters[mario].pasty = characters[mario].newy;
				characters[mario].miny=152;
				break;
			}
		}
	}
			//second row
	if(characters[mario].newx == 42){
		for( uint8_t y = 123; y > 97; y--){
			if((characters[mario].newy==y)&&(characters[mario].pastx!=(characters[mario].newx+characters[mario].changex))){	
				characters[mario].pasty = characters[mario].newy;
				characters[mario].miny=118;
				break;
			}
		}
	}
	if(characters[mario].newx == 72){
		for( uint8_t y = 122; y > 97; y--){
			if((characters[mario].newy==y)&&(characters[mario].pastx!=(characters[mario].newx+characters[mario].changex))){	
				characters[mario].pasty = characters[mario].newy;
				characters[mario].miny=117;
				break;
			}
		}
	}
	if(characters[mario].newx == 102){
		for( uint8_t y = 121; y > 97; y--){
			if((characters[mario].newy==y)&&(characters[mario].pastx!=(characters[mario].newx+characters[mario].changex))){	
				characters[mario].pasty = characters[mario].newy;
				characters[mario].miny=116;
				break;
			}
		}
	}
	//third row
	if(characters[mario].newx == 90){
		for( uint8_t y = 96; y > 69; y--){
			if((characters[mario].newy==y)&&(characters[mario].pastx!=(characters[mario].newx+characters[mario].changex))){	
				characters[mario].pasty = characters[mario].newy;
				characters[mario].miny=91;
				break;
			}
		}
	}
	if(characters[mario].newx == 60){
		for( uint8_t y = 95; y > 69; y--){
			if((characters[mario].newy==y)&&(characters[mario].pastx!=(characters[mario].newx+characters[mario].changex))){	
				characters[mario].pasty = characters[mario].newy;
				characters[mario].miny=90;
				break;
			}
		}
	}
	if(characters[mario].newx == 30){
		for( uint8_t y = 94; y > 69; y--){
			if((characters[mario].newy==y)&&(characters[mario].pastx!=(characters[mario].newx+characters[mario].changex))){	
				characters[mario].pasty = characters[mario].newy;
				characters[mario].miny=89;
				break;
			}
		}
	}
	//fourth row
	if(characters[mario].newx == 42){
		for( uint8_t y = 67; y > 41; y--){
			if((characters[mario].newy==y)&&(characters[mario].pastx!=(characters[mario].newx+characters[mario].changex))){	
				characters[mario].pasty = characters[mario].newy;
				characters[mario].miny=62;
				break;
			}
		}
	}
	if(characters[mario].newx == 72){
		for( uint8_t y = 66; y > 41; y--){
			if((characters[mario].newy==y)&&(characters[mario].pastx!=(characters[mario].newx+characters[mario].changex))){	
				characters[mario].pasty = characters[mario].newy;
				characters[mario].miny=61;
				break;
			}
		}
	}
	if(characters[mario].newx == 102){
		for( uint8_t y = 65; y > 41; y--){
			if((characters[mario].newy==y)&&(characters[mario].pastx!=(characters[mario].newx+characters[mario].changex))){	
				characters[mario].pasty = characters[mario].newy;
				characters[mario].miny=60;
				break;
			}
		}
	}
	//fifth row
	if(characters[mario].newx == 90){
		for( uint8_t y = 40; y > 22; y--){
			if((characters[mario].newy==y)&&(characters[mario].pastx!=(characters[mario].newx+characters[mario].changex))){	
				characters[mario].pasty = characters[mario].newy;
				characters[mario].miny=35;
				break;
			}
		}
	}
	if(characters[mario].newx == 60){
		for( uint8_t y = 38; y > 22; y--){
			if((characters[mario].newy==y)&&(characters[mario].pastx!=(characters[mario].newx+characters[mario].changex))){	
				characters[mario].pasty = characters[mario].newy;
				characters[mario].miny=34;
				break;
			}
		}
	}
}

//Draws the ladders and platforms
void draw_Stage1(void){
	//bottom row
	for(uint32_t i=0,x=0;i<6;i++,x+=6){
		ST7735_DrawBitmap(x,156,platform,6,5);
	}
	for(uint32_t i=0,x=36;i<6;i++,x+=6){
		ST7735_DrawBitmap(x,157,platform,6,5);
	}
	for(uint32_t i=0,x=72;i<10;i++,x+=6){
		ST7735_DrawBitmap(x,158,platform,6,5);
	}
//2nd row
	for(uint32_t i=0,x=12;i<5;i++,x+=6){
		ST7735_DrawBitmap(x,124,platform,6,5);
	}
	for(uint32_t i=0,x=42;i<5;i++,x+=6){
		ST7735_DrawBitmap(x,123,platform,6,5);
	}
	for(uint32_t i=0,x=72;i<5;i++,x+=6){
		ST7735_DrawBitmap(x,122,platform,6,5);
	}
	for(uint32_t i=0,x=102;i<5;i++,x+=6){
		ST7735_DrawBitmap(x,121,platform,6,5);
	}
//3rd row
	for(uint32_t i=0,x=0;i<5;i++,x+=6){
		ST7735_DrawBitmap(x,93,platform,6,5);
	}
	for(uint32_t i=0,x=30;i<5;i++,x+=6){
		ST7735_DrawBitmap(x,94,platform,6,5);
	}
	for(uint32_t i=0,x=60;i<5;i++,x+=6){
		ST7735_DrawBitmap(x,95,platform,6,5);
	}
	for(uint32_t i=0,x=90;i<5;i++,x+=6){
		ST7735_DrawBitmap(x,96,platform,6,5);
	}
//4th row
	for(uint32_t i=0,x=12;i<5;i++,x+=6){
		ST7735_DrawBitmap(x,68,platform,6,5);
	}
	for(uint32_t i=0,x=42;i<5;i++,x+=6){
		ST7735_DrawBitmap(x,67,platform,6,5);
	}
	for(uint32_t i=0,x=72;i<5;i++,x+=6){
		ST7735_DrawBitmap(x,66,platform,6,5);
	}
	for(uint32_t i=0,x=102;i<5;i++,x+=6){
		ST7735_DrawBitmap(x,65,platform,6,5);
	}
//top row
	for(uint32_t i=0,x=0;i<10;i++,x+=6){
		ST7735_DrawBitmap(x,38,platform,6,5);
	}
	for(uint32_t i=0,x=60;i<5;i++,x+=6){
		ST7735_DrawBitmap(x,39,platform,6,5);
	}
	for(uint32_t i=0,x=90;i<5;i++,x+=6){
		ST7735_DrawBitmap(x,40,platform,6,5);
	}
//level complete row
	for(uint32_t i=0,x=50;i<8;i++,x+=6){
		ST7735_DrawBitmap(x,22,platform,6,5);
	}
	draw_Ladder1();
}
void draw_Ladder1(void){
//first row ladders
	for(uint32_t i=0,y=151;i<9;i++,y-=3){
		ST7735_DrawBitmap(20,y,ladder,13,3);
	}
	for(uint32_t i=0,y=128;i<2;i++,y-=3){
		ST7735_DrawBitmap(75,y,ladder,13,3);
	}
	for(uint32_t i=0,y=153;i<5;i++,y-=3){
		ST7735_DrawBitmap(75,y,ladder,13,3);
	}
//second row ladders
	for(uint32_t i=0,y=118;i<8;i++,y-=3){
		ST7735_DrawBitmap(45,y,ladder,13,3);
	}
	for(uint32_t i=0,y=117;i<7;i++,y-=3){
		ST7735_DrawBitmap(90,y,ladder,13,3);
	}
//third row ladders
	for(uint32_t i=0,y=88;i<7;i++,y-=3){
		ST7735_DrawBitmap(18,y,ladder,13,3);
	}
	for(uint32_t i=0,y=90;i<3;i++,y-=3){
		ST7735_DrawBitmap(60,y,ladder,13,3);
	}
	for(uint32_t i=0,y=75;i<3;i++,y-=3){
		ST7735_DrawBitmap(60,y,ladder,13,3);
	}
//fourth row ladders
	for(uint32_t i=0,y=50;i<4;i++,y-=3){
		ST7735_DrawBitmap(42,y,ladder,13,3);
	}
	for(uint32_t i=0,y=62;i<2;i++,y-=3){
		ST7735_DrawBitmap(42,y,ladder,13,3);
	}
	for(uint32_t i=0,y=60;i<7;i++,y-=3){
		ST7735_DrawBitmap(102,y,ladder,13,3);
	}
//win game ladder
	for(uint32_t i=0,y=34;i<4;i++,y-=3){
		ST7735_DrawBitmap(70,y,ladder,13,3);
	}
}
void draw_init_characters(void){
	//initial drawing of mario
	ST7735_DrawBitmap(characters[mario].newx, characters[mario].newy, characters[mario].pic, 15,20); 
//initial drawing of bowser
	ST7735_DrawBitmap(characters[bowser].newx, characters[bowser].newy, characters[bowser].pic, 31,31);
}
// You can use this timer only if you learn how it works

void SysTick_Init(void){
	NVIC_ST_CTRL_R = 0;                   // disable SysTick during setup
  NVIC_ST_RELOAD_R = NVIC_ST_RELOAD;  // maximum reload value
  NVIC_ST_CURRENT_R = 0;                // any write to current clears it
  NVIC_SYS_PRI3_R = (NVIC_SYS_PRI3_R&0X00FFFFFF)|0X40000000; //priority 2
	// enable SysTick with core clock
  NVIC_ST_CTRL_R = 0x00000007;
}

uint32_t airtime = 0;
uint32_t sixtime = 0;
void SysTick_Handler(void){
	for(uint8_t fireball = 2; fireball < 13; fireball++){
			if(characters[fireball].status == alive){
				update_Fire(fireball);
			}
		}
	checkADC();		
		if(characters[mario].movement==climbing_up){
			for(uint16_t i=0;i<18;i++){
				if((characters[mario].newx==player_ladders_top[i].x)&&(characters[mario].newy==player_ladders_top[i].y)){
					characters[mario].movement = still;
					characters[mario].changey = 0;
					characters[mario].miny = player_ladders_top[i].y;
					characters[mario].pic = mario_still_right;
					break;
				}
				//if he is still no the ladder do nothing because check ADC() changes changex and changey values
			}
		}
		if(characters[mario].movement==climbing_down){
			for(uint16_t i=0;i<18;i++){
				if((characters[mario].newx==player_ladders_bottom[i].x)&&(characters[mario].newy==player_ladders_bottom[i].y)){
					characters[mario].movement = still;
					characters[mario].changey = 0;
					characters[mario].miny = player_ladders_bottom[i].y;
					characters[mario].pic = mario_still_right;
					break;
				}
			}
		}
		if(characters[mario].movement==jumping){
			if(airtime<8){
				airtime++;
				characters[mario].changey =2;
			}
			if (airtime==8){
				if(sixtime<8){				//so he is at the peak for a little bit
					sixtime++;
					characters[mario].changey =0;
				}
				else{
					sixtime=0;
					airtime++;
				}
			}
			if(airtime>8){
				airtime++;
				characters[mario].changey =-2;
			}
			if((airtime!=0)&&(characters[mario].newy>characters[mario].miny)){
				characters[mario].newy = characters[mario].miny;
				airtime=0;
				characters[mario].movement=still;
			}
		}
			//if he is still no the ladder do nothing because check ADC() changes changex and changey values
		if(start!=0){
			start--;
		}
		if(start==0){
			Move(mario);
		}
		//checks if mario is on platform
		if((characters[mario].miny!=characters[mario].newy)&&(characters[mario].movement != jumping)&&(characters[mario].movement != climbing_up)&&(characters[mario].movement != climbing_down)){
			characters[mario].pasty = characters[mario].newy;
			characters[mario].newy = characters[mario].miny;
		}
		fireball_wait++ ;
		if(fireball_wait == difficulty){
			fireball_wait = 0;
			fireball_ref = 2;
			while(fireball_ref <12){
				if(characters[fireball_ref].status==dead){
					characters[fireball_ref].status = alive;
					characters[fireball_ref].newx = 30;
					characters[fireball_ref].newy = 20;
					break;
				}
				fireball_ref++;
			}
			characters[bowser].pic = bowser_open_mouth;
		}
		for(uint8_t fireball = 2; fireball < 13; fireball++){
			fireball_collision(fireball);
		}
}

void GPIOPortF_Handler(void){
  if((GPIO_PORTF_RIS_R&0X10)!=0){
		characters[mario].movement=jumping;
	}
	GPIO_PORTF_ICR_R = 0x11;      // acknowledge flag4
}

void Delay100ms(uint32_t count){
	uint32_t volatile time;
  while(count>0){
    //time = 227240;  // delay for board
		time = 27240;	// delay for sim
    while(time){
	  	time--;
    }
    count--;
  }
}

